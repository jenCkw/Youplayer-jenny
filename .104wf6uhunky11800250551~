{"ast":null,"code":"var _jsxFileName = \"/home/jenny/Documents/youplayer/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport './App.css';\nimport NavBar from './components/NavBar';\nimport Video from './components/Video';\nimport { youtube_seach, clientId, API } from './youtube';\nimport { Routes, Route } from 'react-router-dom';\nimport PlayVideo from './components/PlayVideo';\nimport Auth from './components/Auth';\nimport { gapi } from 'gapi-script';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = localStorage.getItem('user');\n\nfunction App() {\n  _s();\n\n  const [videos, setVideos] = useState([]); // onsearch function\n\n  const search = async keywork => {\n    const response = await youtube_seach.get('/search', {\n      params: {\n        q: keywork\n      }\n    });\n    setVideos(response.data.items);\n  };\n\n  clg; // get subscription data\n\n  const subscription = async () => {\n    fetch(`https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&myRating=like&maxResults=50&key=${API}&access_token=${token}`).then(response => response.json()).then(data => {\n      setVideos(data.items);\n    });\n  };\n\n  const onSuccess = res => {\n    console.log(\"LOGIN SUCCESS! Current user\", res.profileObj);\n    localStorage.setItem(\"user\", res.accessToken);\n  };\n\n  const onFailure = res => {\n    console.log(\"LOGIN SUCCESS! Current user\", res.profileObj);\n  };\n\n  const start = () => {\n    gapi.client.init({\n      apiKey: API,\n      clientId,\n      scope: 'https://www.googleapis.com/auth/youtube.force-ssl',\n      discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest']\n    });\n  };\n\n  useEffect(() => {\n    subscription();\n    gapi.load(\"client:auth2\", start);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      search: search\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Video, {\n          videos: videos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \":videoId\",\n        element: /*#__PURE__*/_jsxDEV(PlayVideo, {\n          videos: videos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Auth, {\n          onSuccess: onSuccess,\n          onFailure: onFailure\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"39g9r2hk3cJXA16k+db4Z3Rqykw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","NavBar","Video","youtube_seach","clientId","API","Routes","Route","PlayVideo","Auth","gapi","token","localStorage","getItem","App","videos","setVideos","search","keywork","response","get","params","q","data","items","clg","subscription","fetch","then","json","onSuccess","res","console","log","profileObj","setItem","accessToken","onFailure","start","client","init","apiKey","scope","discoveryDocs","load"],"sources":["/home/jenny/Documents/youplayer/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport './App.css';\nimport NavBar from './components/NavBar';\nimport Video from './components/Video';\nimport { \n  youtube_seach, \n  clientId, \n  API \n} from './youtube'\nimport { Routes, Route } from 'react-router-dom';\nimport PlayVideo from './components/PlayVideo';\nimport Auth from './components/Auth';\nimport { gapi } from 'gapi-script';\n\nconst token = localStorage.getItem('user');\n\nfunction App() {\n  const [videos, setVideos] = useState([])\n  // onsearch function\n  const search = async (keywork) => {\n    const response = await youtube_seach.get('/search',{\n      params:{\n        q: keywork\n      }\n    });\n    setVideos(response.data.items)\n  }\n\n  clg\n  // get subscription data\n  const subscription = async () => {\n    fetch(`https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&myRating=like&maxResults=50&key=${API}&access_token=${token}`)\n    .then(response=>response.json())\n    .then(data=>{setVideos(data.items)})\n  }\n\n  const onSuccess = (res) =>{\n      console.log(\"LOGIN SUCCESS! Current user\", res.profileObj);\n      localStorage.setItem(\"user\",res.accessToken)\n  }\n\n  const onFailure = (res) =>{\n      console.log(\"LOGIN SUCCESS! Current user\", res.profileObj);\n  }\n\n  const start = () =>{\n    gapi.client.init({\n      apiKey: API,\n      clientId,\n      scope:'https://www.googleapis.com/auth/youtube.force-ssl',\n      discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest']\n    })\n  }\n\n  useEffect(()=>{\n    subscription()\n    gapi.load(\"client:auth2\", start)\n  },[])\n\n  return (\n    <div>\n      <NavBar search={search}/>\n      <Routes>\n        <Route path='/' element={<Video videos={videos}/>}/>\n        <Route path=':videoId' element={<PlayVideo videos={videos}/>}/>\n        <Route path='/login' element={<Auth onSuccess={onSuccess} onFailure={onFailure}/>}/>\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SACEC,aADF,EAEEC,QAFF,EAGEC,GAHF,QAIO,WAJP;AAKA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,kBAA9B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,SAASC,IAAT,QAAqB,aAArB;;AAEA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAd;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,EAAD,CAApC,CADa,CAEb;;EACA,MAAMiB,MAAM,GAAG,MAAOC,OAAP,IAAmB;IAChC,MAAMC,QAAQ,GAAG,MAAMhB,aAAa,CAACiB,GAAd,CAAkB,SAAlB,EAA4B;MACjDC,MAAM,EAAC;QACLC,CAAC,EAAEJ;MADE;IAD0C,CAA5B,CAAvB;IAKAF,SAAS,CAACG,QAAQ,CAACI,IAAT,CAAcC,KAAf,CAAT;EACD,CAPD;;EASAC,GAAG,CAZU,CAab;;EACA,MAAMC,YAAY,GAAG,YAAY;IAC/BC,KAAK,CAAE,+HAA8HtB,GAAI,iBAAgBM,KAAM,EAA1J,CAAL,CACCiB,IADD,CACMT,QAAQ,IAAEA,QAAQ,CAACU,IAAT,EADhB,EAECD,IAFD,CAEML,IAAI,IAAE;MAACP,SAAS,CAACO,IAAI,CAACC,KAAN,CAAT;IAAsB,CAFnC;EAGD,CAJD;;EAMA,MAAMM,SAAS,GAAIC,GAAD,IAAQ;IACtBC,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,GAAG,CAACG,UAA/C;IACAtB,YAAY,CAACuB,OAAb,CAAqB,MAArB,EAA4BJ,GAAG,CAACK,WAAhC;EACH,CAHD;;EAKA,MAAMC,SAAS,GAAIN,GAAD,IAAQ;IACtBC,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,GAAG,CAACG,UAA/C;EACH,CAFD;;EAIA,MAAMI,KAAK,GAAG,MAAK;IACjB5B,IAAI,CAAC6B,MAAL,CAAYC,IAAZ,CAAiB;MACfC,MAAM,EAAEpC,GADO;MAEfD,QAFe;MAGfsC,KAAK,EAAC,mDAHS;MAIfC,aAAa,EAAE,CAAC,8DAAD;IAJA,CAAjB;EAMD,CAPD;;EASA5C,SAAS,CAAC,MAAI;IACZ2B,YAAY;IACZhB,IAAI,CAACkC,IAAL,CAAU,cAAV,EAA0BN,KAA1B;EACD,CAHQ,EAGP,EAHO,CAAT;EAKA,oBACE;IAAA,wBACE,QAAC,MAAD;MAAQ,MAAM,EAAErB;IAAhB;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,MAAD;MAAA,wBACE,QAAC,KAAD;QAAO,IAAI,EAAC,GAAZ;QAAgB,OAAO,eAAE,QAAC,KAAD;UAAO,MAAM,EAAEF;QAAf;UAAA;UAAA;UAAA;QAAA;MAAzB;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,KAAD;QAAO,IAAI,EAAC,UAAZ;QAAuB,OAAO,eAAE,QAAC,SAAD;UAAW,MAAM,EAAEA;QAAnB;UAAA;UAAA;UAAA;QAAA;MAAhC;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE,QAAC,KAAD;QAAO,IAAI,EAAC,QAAZ;QAAqB,OAAO,eAAE,QAAC,IAAD;UAAM,SAAS,EAAEe,SAAjB;UAA4B,SAAS,EAAEO;QAAvC;UAAA;UAAA;UAAA;QAAA;MAA9B;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAUD;;GArDQvB,G;;KAAAA,G;AAuDT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}